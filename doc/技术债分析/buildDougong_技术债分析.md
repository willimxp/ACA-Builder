# 技术债分析报告: buildDougong.py

## 1. 文件概览
- **文件路径**: `buildDougong.py`
- **主要功能**: 生成斗拱（Dougong）结构。斗拱是中国古建筑中最复杂的模块化部件。
- **代码规模**: 约 724 行。

## 2. 主要技术债

### 2.1 硬编码的组装逻辑
- **问题描述**: 斗拱由“斗”、“拱”、“昂”、“升”等多个微小部件组成，且有严格的层级关系（出跳）。代码中可能充斥着大量硬编码的相对坐标偏移量。
- **影响**: 难以扩展新的斗拱样式（如清式 vs 宋式）。目前的实现可能仅支持特定的一种或几种固定样式。

### 2.2 缺乏面向对象抽象
- **问题描述**: 斗拱本质上是一个递归或层级结构，非常适合面向对象（OOP）描述。如果代码是过程式的（大量函数调用），则丢失了结构的语义。
- **影响**: 代码难以理解。例如，很难看出哪一部分代码对应“第二跳华拱”。

### 2.3 命名混乱
- **问题描述**: 斗拱部件的术语非常专业（如“慢拱”、“瓜拱”、“万拱”）。如果变量命名使用了拼音缩写或不准确的英文翻译（如 `gong1`, `part_a`），将导致极高的认知负荷。

## 3. 改进建议
1.  **组件库化**: 将斗拱的每一个原子部件（斗、拱）保存为单独的 Blender 资产或预制件，代码只负责组装（Transform），而不是从零构建 Mesh。
2.  **配置驱动**: 使用 JSON 或 YAML 定义斗拱的层级规则（Rule-based Generation），代码解析规则进行生成，而不是把规则写死在代码里。
3.  **领域特定语言 (DSL)**: 考虑定义简单的 DSL 来描述斗拱的堆叠逻辑。
