# 技术债分析报告: buildBeam.py

## 1. 文件概览
- **文件路径**: `buildBeam.py`
- **主要功能**: 生成梁架结构（大梁、随梁、枋、檩条等）。
- **代码规模**: 约 1780 行。

## 2. 主要技术债

### 2.1 结构依赖混乱
- **问题描述**: 梁架的生成依赖于柱网（Columns）和屋顶（Roof）的位置。代码中可能存在对其他模块（如 `build.py` 或 `buildFloor.py`）生成的全局数据的隐式依赖。
- **影响**: 修改柱子逻辑可能导致梁架生成崩溃。

### 2.2 重复的几何构建代码
- **问题描述**: 梁、枋、檩条虽然功能不同，但几何形状高度相似（大多是长方体或圆柱体）。代码中可能存在大量重复的顶点生成代码。
- **影响**: 违反 DRY (Don't Repeat Yourself) 原则。

### 2.3 复杂的榫卯逻辑（如果有）
- **问题描述**: 如果代码试图模拟真实的榫卯连接，布尔运算的逻辑会非常复杂且脆弱。
- **影响**: 容易出现非流形几何体（Non-manifold geometry），导致后续的渲染或打印问题。

## 3. 改进建议
1.  **标准化截面**: 建立统一的“型材库”，通过挤出（Extrude）路径的方式生成梁架，而不是逐个面构建。
2.  **依赖注入**: 明确输入参数（如柱头坐标列表），切断对全局状态的依赖。
